(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{369:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"默认路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认路由"}},[s._v("#")]),s._v(" 默认路由")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("路由中的默认路由和PC中的默认网关是一回事。")])]),s._v(" "),t("p",[t("code",[s._v("默认路由(Default Route)")]),s._v(" 是为了弥补静态路由无法覆盖所有网络的不足而产生的。路由器在转发数据包时，会匹配路由来进行转发，但是通过静态路由配置的路由数量有限，很有可能出现匹配不到合适的路由的情况，这时数据包就会被丢弃。 通过配置默认路由，当数据包无法匹配合适的路由时，就会从默认路由转发给下一跳路由，由下一跳路由来处理。")]),s._v(" "),t("p",[s._v("默认路由的配置命令：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ip route add 0.0.0.0 0.0.0.0 10.1.1.1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"实验目标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实验目标"}},[s._v("#")]),s._v(" 实验目标")]),s._v(" "),t("div",{staticClass:"center-container"},[t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/Human0722/blogPics/master/20220519/%E5%9B%BE%E7%89%87.png",alt:""}})])]),t("h4",{attrs:{id:"实现过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现过程"}},[s._v("#")]),s._v(" 实现过程")]),s._v(" "),t("p",[s._v("R1:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("enable\nRouter"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#configure terminal")]),s._v("\nEnter configuration commands, one per line.  End with CNTL/Z.\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface f0/0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 12.1.1.1 255.255.255.0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no shutdown")]),s._v("\n%LINK-5-CHANGED: Interface FastEthernet0/0, changed state to up\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface loopback 1")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 1.1.1.1 255.255.255.255")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip route 0.0.0.0 0.0.0.0 12.1.1.2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("R2:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("enable\nRouter"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#configure terminal")]),s._v("\nEnter configuration commands, one per line.  End with CNTL/Z.\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface f0/0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 12.1.1.2 255.255.255.0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no shutdown ")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface loopback 1")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 2.2.2.2 255.255.255.255")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no shutdown")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h4",{attrs:{id:"结果验证"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结果验证"}},[s._v("#")]),s._v(" 结果验证")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#登录R1, ping 2.2.2.2 来验证默认路由是否配置成功。")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("ping "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2\n\nType escape sequence to abort.\nSending "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("-byte ICMP Echos to "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" seconds:\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nSuccess rate is "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" percent "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("/5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", round-trip min/avg/max "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/0/0 ms\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h4",{attrs:{id:"环路现象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环路现象"}},[s._v("#")]),s._v(" 环路现象")]),s._v(" "),t("div",{staticClass:"center-container"},[t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/Human0722/blogPics/master/20220519/xxx.100hpeal1ngg.png",alt:""}})])]),t("p",[s._v("当 R1 的默认路由配置成了 R2 的地址， R2 的默认路由配置成了 R1 的地址。数据包就可能(当无法匹配静态路由时)会在 R1 和 R2循环转发,这就是默认路由会造成的问题: "),t("code",[s._v("环路问题")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"浮动路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浮动路由"}},[s._v("#")]),s._v(" 浮动路由")]),s._v(" "),t("p",[s._v("浮动路由（Floating Route) 用于实现多出口环境下的路由选择优先级。通过设置路由的"),t("code",[s._v("管理距离")]),s._v("决定路由的优先级。一般管理距离在 0-255 之间，值越小代表优先级越高。"),t("br"),s._v("\n通过在路由配置后追加管理距离参数来配置：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip route 0.0.0.0 0.0.0.0 172.16.10.1 100")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip route 0.0.0.0 0.0.0.0 172.16.10.2 10")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"实验目标-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实验目标-2"}},[s._v("#")]),s._v(" 实验目标")]),s._v(" "),t("div",{staticClass:"center-container"},[t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/Human0722/blogPics/master/20220519/xxx.7fp2yk6g7iww.png",alt:""}})])]),t("h4",{attrs:{id:"实现过程-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现过程-2"}},[s._v("#")]),s._v(" 实现过程")]),s._v(" "),t("p",[s._v("R1的配置：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("enable\nRouter"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#configure terminal")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface f0/0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 172.16.10.1 255.255.255.0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no shutdown ")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface f0/1")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 172.16.11.1 255.255.255.0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no shutdown")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface loopback 1")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 1.1.1.1 255.255.255.255")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("R2的配置：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("enable\nRouter"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#configure terminal")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface f0/0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 172.16.10.2 255.255.255.0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no shutdown")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface loopback 1")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 2.2.2.2 255.255.255.255")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("R3的配置:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("enable\nRouter"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#configure terminal")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface f0/0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 172.16.11.2 255.255.255.0 ")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no shutdown")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface loopback 1")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip add 2.2.2.2 255.255.255.255")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("R1的浮动路由配置:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip route 0.0.0.0 0.0.0.0 172.16.10.2 1")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip route 0.0.0.0 0.0.0.0 172.16.11.2 100")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"结果验证-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结果验证-2"}},[s._v("#")]),s._v(" 结果验证")]),s._v(" "),t("p",[s._v("首先开启 R2, R3 的DEBUG模式:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#debug ip icmp")]),s._v("\nICMP packet debugging is on\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("在 R1 路由上执行 "),t("code",[s._v("ping 2.2.2.2")]),s._v(", 可以在 R2 控制台观察到数据包:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#debug ip icmp")]),s._v("\nICMP packet debugging is on\nRouter"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".10.1\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".10.1\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".10.1\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".10.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("接下来在 R2 上关闭 F0/0 端口:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#interface f0/0")]),s._v("\nRouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#shutdown")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("再次在 R1 路由器上执行 "),t("code",[s._v("ping 2.2.2.2")]),s._v(", 此时数据包就会发送到 R3 路由器上:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Router"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".11.1\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".11.1\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".11.1\nICMP: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" reply sent, src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".2.2, dst "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".11.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);