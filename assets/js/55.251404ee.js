(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{381:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("RESTful 风格 API 设计原则与最佳实践")])]),s._v(" "),t("p",[t("span",{staticClass:"ec ec-sneezing-face"}),t("span",{staticClass:"ec ec-sneezing-face"}),t("span",{staticClass:"ec ec-sneezing-face"}),s._v("\n基( di )础( ji )的 Laravel 知识点 "),t("a",{attrs:{href:"https://human0722.github.io/wiki/Laravel/",target:"_blank",rel:"noopener noreferrer"}},[s._v("传送门"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"快速构建-restful-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速构建-restful-api"}},[s._v("#")]),s._v(" 快速构建 RESTful API")]),s._v(" "),t("blockquote",[t("p",[s._v("Laravel 可以通过 资源控制器(resource)和路由快速构建遵循 REST 规范的路由。")])]),s._v(" "),t("ol",[t("li",[s._v("首先创建资源控制器:")])]),s._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[s._v("php artisan make"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("controller TaskController "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("resource\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("然后在路由文件中注册资源控制器的路由:")])]),s._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("Route")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'tasks'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'TaskController'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("通过上面两步，就构建好了以下API:\n"),t("img",{attrs:{src:"/images/laravel/restful-api.jpg",alt:"Resource路由表"}}),s._v("\n3. 编辑资源文件，删除掉 "),t("code",[s._v("show")]),s._v(" 和 "),t("code",[s._v("edit")]),s._v(" 两个方法, API 接口用不到展示表单。\n4. 得益于 Laravel 对 JSON 的友好支持, 即使在成员方法中返回对象、数组, 底层也会自动转为 JSON 格式。")]),s._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-definition function"}},[s._v("index")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("where")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'id'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"/images/laravel/advanceLaravel001.jpg",alt:"测试JSON"}}),s._v("\n5. 自定义 JSON 数据组成格式")])])}),[],!1,null,null,null);t.default=e.exports}}]);